"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[969],{8969:function(e,t,i){i.r(t),i.d(t,{default:function(){return b}});var a=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"box-card"},[t("el-row",[t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleView}},[e._v("添加")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.multiDel}},[e._v("批量删除")]),t("b",[e._v("学生姓名：")]),t("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入学生姓名"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchFun}},[e._v("搜索")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-magic-stick"},on:{click:e.reset}},[e._v("重置")])],1),[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","max-height":"500"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"id",label:"ID"}}),t("el-table-column",{attrs:{prop:"clazzName",label:"所属班级"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t("el-table-column",{attrs:{prop:"sno",label:"学号"}}),t("el-table-column",{attrs:{prop:"gender",label:"性别"}}),t("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t("el-table-column",{attrs:{prop:"telephone",label:"电话"}}),t("el-table-column",{attrs:{prop:"address",label:"住址"}}),t("el-table-column",{attrs:{prop:"introducation",label:"介绍"}}),t("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleEditView(i.$index,i.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(i.$index,i.row)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"block"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pagesizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2),t("StudentDetail",{ref:"StudentDetail",on:{getDetail:e.getDetail}})],1)},l=[],n=(i(7658),i(5701)),s=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:"学生信息",visible:e.visible,width:"30%"},on:{"update:visible":function(t){e.visible=t}}},[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"学生姓名"}},[t("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"性别"}},[t("el-radio-group",{model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[t("el-radio",{attrs:{label:"男"}}),t("el-radio",{attrs:{label:"女"}})],1)],1),t("el-form-item",{attrs:{label:"班级"}},[t("el-select",{attrs:{placeholder:"请选择学生班级"},model:{value:e.form.clazzName,callback:function(t){e.$set(e.form,"clazzName",t)},expression:"form.clazzName"}},[t("el-option",{attrs:{label:"一班",value:"一班"}}),t("el-option",{attrs:{label:"二班",value:"二班"}}),t("el-option",{attrs:{label:"三班",value:"三班"}}),t("el-option",{attrs:{label:"四班",value:"四班"}})],1)],1),t("el-form-item",{attrs:{label:"介绍"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入学生介绍"},model:{value:e.form.introduction,callback:function(t){e.$set(e.form,"introduction",t)},expression:"form.introduction"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")]),t("el-button",{on:{click:e.onClose}},[e._v("取消")])],1)],1)],1)},r=[],o={data(){return{visible:!1,id:0,form:{name:"",gender:"",clazzName:"",introduction:""}}},methods:{onSubmit(){0!=this.id?(this.$emit("getDetail",this.form,this.id),this.id=0):this.$emit("getDetail",this.form),this.form.name="",this.form.gender="",this.form.clazzName="",this.form.introduction="",this.visible=!this.visible},handleOpen(e=0){0!=e&&(this.id=e),this.visible=!this.visible},onClose(){this.visible=!this.visible}}},d=o,u=i(1001),h=(0,u.Z)(d,s,r,!1,null,null,null),c=h.exports,m={components:{StudentDetail:c},data(){return{name:"学生管理",tableData:[],input:"",currentPage:1,total:0,pagesize:5,pagesizes:[3,4,5,6],ids:[],student:{address:"碎玉轩",clazzName:"四班",email:"123@yy.com",gender:"女",id:0,introduction:"这是一条新数据",name:"狗蛋",password:"1234",portraitPath:"123",sno:"123",telephone:"123456"},multipleSelection:[],name:"学生管理"}},mounted(){this.$bus.$emit("receiveParams",this.name),this.pages(1,this.pagesize),this.init()},methods:{getDetail(e,t=0){0!=t&&(this.student.id=t),this.student.name=e.name,this.student.gender=e.gender,this.student.clazzName=e.clazzName,this.student.introduction=e.introduction,(0,n.Z)({url:"studentController/addOrUpdateStudent",data:this.student,method:"post"}).then((e=>{this.student.id=0,this.init(),this.handleCurrentChange(this.currentPage)}))},handleEditView(e,t){this.$refs.StudentDetail.handleOpen(t.id)},handleView(){this.$refs.StudentDetail.handleOpen()},handleCurrentChange(e){console.log(e),this.pages(e,this.pagesize)},handleSizeChange(e){this.pagesize=e,this.pages(this.currentPage,this.pagesize)},init(){(0,n.Z)({url:"/studentController/getStudents",method:"get"}).then((e=>{this.total=e.data.data.length}))},pages(e,t){(0,n.Z)({url:`/studentController/getStudentByOpr/${e}/${t}`,method:"get"}).then((e=>{this.tableData=e.data.data.records,console.log(e)}))},handleDelete(e,t){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{let e=[];e.push(t.id),this.ids=e,(0,n.Z)({url:"/studentController/delStudentById",data:this.ids,method:"delete"}).then((e=>{this.init(),this.handleCurrentChange(this.currentPage),this.ids=[]})),this.$message({type:"success",message:"删除成功!"})})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},searchFun(){(0,n.Z)({url:`/studentController/getStudentByOpr/1/${this.total}`,params:{name:this.input},method:"get"}).then((e=>{this.input="",this.tableData=e.data.data.records}))},reset(){this.init(),this.pages(1,this.pagesize)},handleSelectionChange(e){this.multipleSelection=e,this.ids=[],this.multipleSelection.map((e=>{console.log(e.id),this.ids.push(e.id)}))},multiDel(){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,n.Z)({url:"/studentController/delStudentById",data:this.ids,method:"delete"}).then((e=>{this.init(),this.handleCurrentChange(this.currentPage),this.ids=[]})),this.$message({type:"success",message:"删除成功!"})})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))}}},p=m,g=(0,u.Z)(p,a,l,!1,null,"3a116b56",null),b=g.exports}}]);
//# sourceMappingURL=969.d4d2b98c.js.map